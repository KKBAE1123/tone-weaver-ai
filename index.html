
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Glycos - AI Communication Assistant</title>
    <meta name="description" content="Glycos helps you navigate difficult social situations with thoughtful, personalized response suggestions." />
    <meta name="author" content="Glycos" />

    <meta property="og:title" content="Glycos - AI Communication Assistant" />
    <meta property="og:description" content="Navigate difficult social situations with thoughtful, personalized response suggestions." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    
    <style>
      /* Custom styles for Vapi Voice Widget */
      .vapi-btn {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transition: transform 0.2s ease;
      }
      .vapi-btn:hover {
        transform: scale(1.05);
      }
      .vapi-btn-is-idle {
        background-color: #9b87f5;
      }
      .vapi-btn-is-active {
        background-color: #ea384c;
      }
      .vapi-btn-is-loading {
        background-color: #8B5CF6;
      }
      .vapi-btn-is-speaking {
        animation: pulse 1.5s infinite;
      }
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
      }
    </style>
  </head>

  <body>
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Vapi Voice Widget Integration -->
    <script>
      var vapiInstance = null;
      // Define the assistant configuration
      const assistant = {
        model: {
          provider: "openai",
          model: "gpt-3.5-turbo",
          systemPrompt:
            "You're a communication assistant named Glycos. Help users navigate social situations by providing thoughtful response suggestions. Be empathetic, professional, and considerate of the tone and context users provide.",
        },
        voice: {
          provider: "11labs",
          voiceId: "paula",
        },
        firstMessage: "Hi, I'm Glycos, your communication assistant. How can I help you craft better responses today?",
      };
      
      const buttonConfig = {
        position: "bottom-right",
        offset: "40px",
        width: "50px", 
        height: "50px",
        idle: {
          color: "#9b87f5", 
          type: "pill",
          title: "Need help with a response?",
          subtitle: "Talk with Glycos, your AI communication assistant",
          icon: "https://unpkg.com/lucide-static@0.321.0/icons/message-circle.svg",
        },
        loading: {
          color: "#8B5CF6",
          type: "pill",
          title: "Connecting...",
          subtitle: "Please wait",
          icon: "https://unpkg.com/lucide-static@0.321.0/icons/loader-2.svg",
        },
        active: {
          color: "#ea384c",
          type: "pill",
          title: "Conversation in progress...",
          subtitle: "End the conversation",
          icon: "https://unpkg.com/lucide-static@0.321.0/icons/phone-off.svg",
        },
      };
      
      (function (d, t) {
        var g = document.createElement(t),
          s = d.getElementsByTagName(t)[0];
        g.src =
          "https://cdn.jsdelivr.net/gh/VapiAI/html-script-tag@latest/dist/assets/index.js";
        g.defer = true;
        g.async = true;
        s.parentNode.insertBefore(g, s);
        g.onload = function () {
          // You'll need to update these with your actual Vapi credentials
          vapiInstance = window.vapiSDK.run({
            apiKey: "YOUR_VAPI_API_KEY", // Replace with your actual API key
            assistant: assistant,
            config: buttonConfig,
          });
          
          // Add event listeners
          if (vapiInstance) {
            vapiInstance.on('call-start', () => {
              console.log('Glycos voice assistant activated');
            });
            vapiInstance.on('call-end', () => {
              console.log('Glycos voice assistant conversation ended');
            });
            vapiInstance.on('message', (message) => {
              console.log('Glycos message:', message);
            });
            vapiInstance.on('error', (e) => {
              console.error('Glycos voice assistant error:', e);
            });
          }
        };
      })(document, "script");
    </script>
  </body>
</html>
